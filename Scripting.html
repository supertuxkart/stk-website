<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Scripting - SuperTuxKart</title>
<link rel="stylesheet" href="/assets/css/supertuxkart.css?v=">
<link rel="stylesheet" href="/assets/css/fontawesome.css?v=">
<link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png">
<meta name="viewport" content="user-scalable = yes">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="website">
<meta property="og:title" content="Scripting">
<meta property="og:site_name" content="SuperTuxKart">
<meta property="og:description" content="Contents Introduction Scripting API Triggers for scripts Action Triggers On Collision On Start On Update (currently disabled in track.cpp) Introduction Scripting is used to provide all kinds of fun in-game interactions. If there’s anything special you want to happen based on some event (Kart smashing into another kart, driving over a big red button, hitting a wooden box with an explosive cake), then scripting is just the thing for you!">
<meta property="og:locale" content="en">
<meta property="og:image" content="/assets/images/logo.png"/>
<style>
/* Add Page_Name.css with Page_Name.md */
</style>
</head>

<body>
<div class="header_wrapper">
<div class="header_color_wrapper_outer">
<div class="header_color_wrapper_inner size-dependend-margin">
<div class="navigation-tools">
<nav>
    <label for="toggle-mobile-navbar" class="toggle-mobile-navbar"><i class="fa fa-bars" style="margin-right: 5px"></i><span class="translate">Menu</span></label>
    <input type="checkbox" role="button" id="toggle-mobile-navbar" class="dropdown-trigger" aria-pressed="true">
    <div class="nav-menu noselect">
    <div class="left-nav">
        <ul>
            <li><a href='/Discover'><span class="translate">Discover</span></a></li>
            <li><a href='/Download'><span class="translate">Download</span></a></li>
            <li><a href='/FAQ'><span class="translate">FAQ</span></a></li>
            <li><a href='/Team'><span class="translate">Team</span></a></li>
            <li><a href='/Community'><span class="translate">Get Involved</span></a></li>
            <li><a href="https://blog.supertuxkart.net/"><span class="translate">Blog</span></a></li>
            <li><a class="donate-top-menu-link" href='/Donate'><span class="translate">Donate</span> <i class="fa fa-heart"></i></a></li>
        </ul>
    </div>
    <div class="right-nav">
        <div class="toolbox-container">
        <label for="toolbox-gear" class="toolbox-gear-label"><i class="fa fa-cog fa-lg"></i></label>
        <input type="checkbox" role="button" id="toolbox-gear" class="dropdown-trigger" aria-pressed="true"/>
        <div class="toolbox">
        <p class="toolbox-title"><span class="translate">Tools</span></p>
        <div class="toolbox-section"><p><span class="translate">Language</span></p>
        <ul id="language-selector" style="overflow-y: auto; max-height: 10rem;"><li id="language-selector-en"><a href='/Scripting'>English</a></li></ul>
        </div>
        </div>
        </div>
        <div class="searchform">
            <input type="text" id="search-input" accesskey="f"><button class="fa fa-search"></button>
        </div>
    </div>
    </div>
</nav>

<a class="logo noselect" href='/Main_Page' title="Visit the main page">
    <img src="/assets/images/logo.png" alt="SuperTuxKart"/>
</a>

</div>
</div>
</div>
</div>

<div class="main-content-wrapper size-dependend-margin">
<div class="content_wrapper"><h1 class="article-title">Scripting</h1>
<article>
<ul id="results-container"></ul><h2 id="toc_header" style="margin: 0px"><span class="translate">Contents</span></h2>
<span id="markdown-opening-bracket"></span><input type="checkbox" id="markdown-callback"><label id="markdown-toggle" data-show-text="Show" data-hide-text="Hide" for="markdown-callback"></label><span id="markdown-closing-bracket"></span>
<ul id="markdown-toc">
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#scripting-api" id="markdown-toc-scripting-api">Scripting API</a></li>
  <li><a href="#triggers-for-scripts" id="markdown-toc-triggers-for-scripts">Triggers for scripts</a>    <ul>
      <li><a href="#action-triggers" id="markdown-toc-action-triggers">Action Triggers</a></li>
      <li><a href="#on-collision" id="markdown-toc-on-collision">On Collision</a></li>
      <li><a href="#on-start" id="markdown-toc-on-start">On Start</a></li>
      <li><a href="#on-update-currently-disabled-in-trackcpp" id="markdown-toc-on-update-currently-disabled-in-trackcpp">On Update (currently disabled in track.cpp)</a></li>
    </ul>
  </li>
</ul>
<h2 id="introduction">Introduction</h2>

<p>Scripting is used to provide all kinds of fun in-game interactions. If there’s anything special you want to happen based on some event (Kart smashing into another kart, driving over a big red button, hitting a wooden box with an explosive cake), then scripting is just the thing for you!</p>

<p>You can use AngelScript for scripting in version higher than 0.8.1. If you want to learn how to add your own scripts, you should refer the AngelScript documentation.</p>

<h2 id="scripting-api">Scripting API</h2>

<p>The API can be found at <a href="https://doxygen.supertuxkart.net/group__Scripting.html">https://doxygen.supertuxkart.net/group__Scripting.html</a></p>

<h2 id="triggers-for-scripts">Triggers for scripts</h2>

<h3 id="action-triggers">Action Triggers</h3>

<p>Action Triggers are point based triggers with a radius. Think of it as a big bubble that pops when you enter it, triggering some action. This is probably the best method of triggering location-based events. By default the trigger is disabled right after it is activated. They can be activated or deactivated as you wish, using other scripts.</p>

<p>Relevant Methods:</p>

<div class="popup-code popup">
<div class="popup-code-info"><b><span class="translate">Code</span></b></div>
<div class="popup-code-line"><code>
<span style="color: #b2fd6d;font-weight: bold">void</span> <span style="color: #faf6e4;background-color: #122b3b">createTrigger</span><span style="color: #4df4ff">(</span><span style="color: #f6dd62;font-weight: bold">const</span> <span style="color: #faf6e4;background-color: #122b3b">string</span> <span style="color: #4df4ff;font-weight: bold">&amp;</span><span style="color: #faf6e4;background-color: #122b3b">in</span><span style="color: #4df4ff">,</span> <span style="color: #f6dd62;font-weight: bold">const</span> <span style="color: #faf6e4;background-color: #122b3b">Vec3</span> <span style="color: #4df4ff;font-weight: bold">&amp;</span><span style="color: #faf6e4;background-color: #122b3b">in</span><span style="color: #4df4ff">,</span> <span style="color: #b2fd6d;font-weight: bold">float</span> <span style="color: #faf6e4;background-color: #122b3b">distance</span><span style="color: #4df4ff">)</span>
<span style="color: #b2fd6d;font-weight: bold">void</span> <span style="color: #faf6e4;background-color: #122b3b">setTriggerReenableTimeout</span><span style="color: #4df4ff">(</span><span style="color: #f6dd62;font-weight: bold">const</span> <span style="color: #faf6e4;background-color: #122b3b">string</span> <span style="color: #4df4ff;font-weight: bold">&amp;</span><span style="color: #faf6e4;background-color: #122b3b">in</span><span style="color: #4df4ff">,</span> <span style="color: #f6dd62;font-weight: bold">const</span> <span style="color: #faf6e4;background-color: #122b3b">string</span> <span style="color: #4df4ff;font-weight: bold">&amp;</span><span style="color: #faf6e4;background-color: #122b3b">in</span><span style="color: #4df4ff">,</span> <span style="color: #b2fd6d;font-weight: bold">float</span> <span style="color: #faf6e4;background-color: #122b3b">reenable_time</span><span style="color: #4df4ff">)</span>

</code></div>
</div>

<h3 id="on-collision">On Collision</h3>

<p>Collision-based triggering revolves around providing collision based interactions. Several different types of callbacks are defined.</p>

<p>At present the different callbacks are</p>

<div class="popup-code popup">
<div class="popup-code-info"><b><span class="translate">Code</span></b></div>
<div class="popup-code-line"><code>
<span style="color: #b2fd6d;font-weight: bold">void</span> <span style="color: #faf6e4;background-color: #122b3b">onKartKartCollision</span><span style="color: #4df4ff">(</span><span style="color: #b2fd6d;font-weight: bold">int</span> <span style="color: #faf6e4;background-color: #122b3b">idKart1</span><span style="color: #4df4ff">,</span> <span style="color: #b2fd6d;font-weight: bold">int</span> <span style="color: #faf6e4;background-color: #122b3b">idKart2</span><span style="color: #4df4ff">)</span> <span style="color: #6c8b9f;font-style: italic">//for collisions between karts</span>

</code></div>
</div>

<p>To detect collision between a kart and a physical object (track object), the “on-kart-collision” property should be defined on the object in the scene.xml file, containing the name of the scripting function to call</p>

<div class="popup-code popup">
<div class="popup-code-info"><b><span class="translate">Code</span></b></div>
<div class="popup-code-line"><code>
<span style="color: #6c8b9f;font-style: italic">// scene.xml</span>
<span style="color: #4df4ff;font-weight: bold">&lt;</span><span style="color: #faf6e4;background-color: #122b3b">object</span> <span style="color: #faf6e4;background-color: #122b3b">type</span><span style="color: #4df4ff;font-weight: bold">=</span><span style="color: #fff0a6;font-weight: bold">"movable"</span> <span style="color: #faf6e4;background-color: #122b3b">id</span><span style="color: #4df4ff;font-weight: bold">=</span><span style="color: #fff0a6;font-weight: bold">"TestObject"</span> <span style="color: #4df4ff">...</span> <span style="color: #faf6e4;background-color: #122b3b">model</span><span style="color: #4df4ff;font-weight: bold">=</span><span style="color: #fff0a6;font-weight: bold">"TestObject.spm"</span> <span style="color: #faf6e4;background-color: #122b3b">on</span><span style="color: #4df4ff;font-weight: bold">-</span><span style="color: #faf6e4;background-color: #122b3b">kart</span><span style="color: #4df4ff;font-weight: bold">-</span><span style="color: #faf6e4;background-color: #122b3b">collision</span><span style="color: #4df4ff;font-weight: bold">=</span><span style="color: #fff0a6;font-weight: bold">"onTestObjectKartCollision"</span><span style="color: #4df4ff;font-weight: bold">/&gt;</span>

<span style="color: #6c8b9f;font-style: italic">// scripting.as</span>
<span style="color: #b2fd6d;font-weight: bold">void</span> <span style="color: #a8e1fe">onTestObjectKartCollision</span><span style="color: #4df4ff">(</span><span style="color: #b2fd6d;font-weight: bold">int</span> <span style="color: #faf6e4;background-color: #122b3b">idKart</span><span style="color: #4df4ff">,</span> <span style="color: #f6dd62;font-weight: bold">const</span> <span style="color: #faf6e4;background-color: #122b3b">string</span> <span style="color: #faf6e4;background-color: #122b3b">libraryInstance</span><span style="color: #4df4ff">,</span> <span style="color: #f6dd62;font-weight: bold">const</span> <span style="color: #faf6e4;background-color: #122b3b">string</span> <span style="color: #faf6e4;background-color: #122b3b">obj_id</span><span style="color: #4df4ff">)</span>
<span style="color: #4df4ff">{</span>
    <span style="color: #6c8b9f;font-style: italic">// ...</span>
<span style="color: #4df4ff">}</span>

</code></div>
</div>

<p>To detect collision between an item (a powerup/weapon) and a physical object (track object), the “on-item-collision” property should be defined on the object in the scene.xml file, containing the name of the scripting function to call</p>

<div class="popup-code popup">
<div class="popup-code-info"><b><span class="translate">Code</span></b></div>
<div class="popup-code-line"><code>
<span style="color: #6c8b9f;font-style: italic">// scene.xml</span>
<span style="color: #4df4ff;font-weight: bold">&lt;</span><span style="color: #faf6e4;background-color: #122b3b">object</span> <span style="color: #faf6e4;background-color: #122b3b">type</span><span style="color: #4df4ff;font-weight: bold">=</span><span style="color: #fff0a6;font-weight: bold">"movable"</span> <span style="color: #faf6e4;background-color: #122b3b">id</span><span style="color: #4df4ff;font-weight: bold">=</span><span style="color: #fff0a6;font-weight: bold">"TestObject"</span> <span style="color: #4df4ff">...</span> <span style="color: #faf6e4;background-color: #122b3b">model</span><span style="color: #4df4ff;font-weight: bold">=</span><span style="color: #fff0a6;font-weight: bold">"TestObject.spm"</span> <span style="color: #faf6e4;background-color: #122b3b">on</span><span style="color: #4df4ff;font-weight: bold">-</span><span style="color: #faf6e4;background-color: #122b3b">item</span><span style="color: #4df4ff;font-weight: bold">-</span><span style="color: #faf6e4;background-color: #122b3b">collision</span><span style="color: #4df4ff;font-weight: bold">=</span><span style="color: #fff0a6;font-weight: bold">"onTestObjectItemCollision"</span><span style="color: #4df4ff;font-weight: bold">/&gt;</span>

<span style="color: #6c8b9f;font-style: italic">// scripting.as</span>
<span style="color: #b2fd6d;font-weight: bold">void</span> <span style="color: #a8e1fe">onTestObjectItemCollision</span><span style="color: #4df4ff">(</span><span style="color: #b2fd6d;font-weight: bold">int</span> <span style="color: #faf6e4;background-color: #122b3b">itemType</span><span style="color: #4df4ff">,</span> <span style="color: #b2fd6d;font-weight: bold">int</span> <span style="color: #faf6e4;background-color: #122b3b">idKart</span><span style="color: #4df4ff">,</span> <span style="color: #f6dd62;font-weight: bold">const</span> <span style="color: #faf6e4;background-color: #122b3b">string</span> <span style="color: #faf6e4;background-color: #122b3b">objID</span><span style="color: #4df4ff">)</span>
<span style="color: #4df4ff">{</span>
   <span style="color: #f6dd62;font-weight: bold">if</span> <span style="color: #4df4ff">(</span><span style="color: #faf6e4;background-color: #122b3b">itemType</span> <span style="color: #4df4ff;font-weight: bold">==</span> <span style="color: #faf6e4;background-color: #122b3b">Kart</span><span style="color: #4df4ff;font-weight: bold">::</span><span style="color: #faf6e4;background-color: #122b3b">PowerupType</span><span style="color: #4df4ff;font-weight: bold">::</span><span style="color: #faf6e4;background-color: #122b3b">BOWLING</span><span style="color: #4df4ff">)</span>
   <span style="color: #4df4ff">{</span>
       <span style="color: #6c8b9f;font-style: italic">// ...</span>
   <span style="color: #4df4ff">}</span>
<span style="color: #4df4ff">}</span>

</code></div>
</div>

<h3 id="on-start">On Start</h3>

<p>Start-up scripts will run exactly once, during the track loading process. As such, they are ideal for setting the initial states of any animations, creating new action triggers, etc.</p>

<div class="popup-code popup">
<div class="popup-code-info"><b><span class="translate">Code</span></b></div>
<div class="popup-code-line"><code>
<span style="color: #b2fd6d;font-weight: bold">void</span> <span style="color: #faf6e4;background-color: #122b3b">onStart</span><span style="color: #4df4ff">()</span>

</code></div>
</div>

<p>Library objects can also declare an onStart callback, it should be placed in a namespace that has the same name as the library object (it is recommended to put <strong>all</strong> library object code in its own namespace to avoid conflicts</p>

<div class="popup-code popup">
<div class="popup-code-info"><b><span class="translate">Code</span></b></div>
<div class="popup-code-line"><code>
<span style="color: #f6dd62;font-weight: bold">namespace</span> <span style="color: #faf6e4;background-color: #122b3b">stklib_fitchBarrel_a</span>
<span style="color: #4df4ff">{</span>
    <span style="color: #b2fd6d;font-weight: bold">void</span> <span style="color: #faf6e4;background-color: #122b3b">onStart</span><span style="color: #4df4ff">(</span><span style="color: #f6dd62;font-weight: bold">const</span> <span style="color: #faf6e4;background-color: #122b3b">string</span> <span style="color: #faf6e4;background-color: #122b3b">instID</span><span style="color: #4df4ff">)</span>
    <span style="color: #4df4ff">{</span>
        <span style="color: #6c8b9f;font-style: italic">// ...</span>
    <span style="color: #4df4ff">}</span>
<span style="color: #4df4ff">}</span>

</code></div>
</div>

<h3 id="on-update-currently-disabled-in-trackcpp">On Update (currently disabled in track.cpp)</h3>

<p><span style="color:red">WARNING: Inefficient. Use sparingly.</span></p>

<p>Update scripts will keep running throughout the race and as such, will cause performance issues if used carelessly. They are ideal, however, for testing out scripts during testing. Whenever possible, these scripted actions should be moved into one of the other types (most probably the action-trigger driven type) so as to improve performance.</p>

<ul id="art_portal_nav">
    <li class="art_portal_nav_item" id="special_return_to_art_portal">
    <a href="/Community"><i style="color: grey; font-size: 30px; margin: 0px; margin-right: 15px;" class="fas fa-undo"></i></a>
    <span class="art_portal_nav_text">
        <a href="/Community"><span class="translate">Return to Get Involved</span></a>
    </span>
    </li>
    <li class="art_portal_nav_item">
    <span class="art_portal_nav_text">
        <a href="/Making_Library_Nodes"><span class="translate">Making Library Nodes</span></a>
    </span>
    </li>
    <li class="art_portal_nav_item">
    <span class="art_portal_nav_text">
        <a href="/Making_Karts"><span class="translate">Making Karts</span></a>
    </span>
    </li>
    <li class="art_portal_nav_item">
    <span class="art_portal_nav_text">
        <a href="/Making_Tracks"><span class="translate">Making Tracks</span></a>
    </span>
    </li>
</ul>


</article>
</div>
</div>

<footer class="size-dependend-margin ">
<div class="footer-links">
    <div><p><span class="translate">Community</span></p>
    <ul>
        <li><a href='https://forum.supertuxkart.net/'><span class="translate">Forum</span></a></li>
        <li><a href='https://blog.supertuxkart.net/'><span class="translate">Blog</span></a></li>
        <li><a href='https://x.com/supertuxkart'><span class="translate">Twitter / X</span></a></li>
        <li><a href='https://online.supertuxkart.net/'><span class="translate">Addons</span></a></li>
        <li><a href='https://web.libera.chat/?channels=#supertuxkart'>irc: #supertuxkart@libera</a></li>
    </ul>
    </div>
    <div><p><span class="translate">Media</span></p>
    <ul>
        <li><a href='https://www.youtube.com/channel/UCJ9hmn6MG_ggpQUhmbMS2mQ'><span class="translate">YouTube</span></a></li>
        <li><a href='/Gallery'><span class="translate">Gallery</span></a></li>
        <li><a href='/Posters'><span class="translate">Posters</span></a></li>
    </ul>
    </div>
    <div><p><span class="translate">Development</span></p>
    <ul>
        <li><a href='/Community'><span class="translate">Modding</span></a></li>
        <li><a href='https://github.com/supertuxkart/stk-code'><span class="translate">GitHub</span></a></li>
        <li><a href='https://sourceforge.net/p/supertuxkart/code/HEAD/tree/'><span class="translate">SVN</span></a></li>
    </ul>
    </div>
    <div><p><span class="translate">About us</span></p>
    <ul>
        <li><a href='/FAQ'><span class="translate">FAQ</span></a></li>
        <li><a href='/Team'><span class="translate">About the team</span></a></li>
        <li><a href='/Discover'><span class="translate">About SuperTuxKart</span></a></li>
        <li><a href='/Projects'><span class="translate">Projects using SuperTuxKart</span></a></li>
    </ul>
    </div>
</div>

<div class="footer-copyright">
Site designed by Jean-Manuel Cl&eacute;men&ccedil;on & Konstin<br />
Powered by <a href="https://jekyllrb.com">Jekyll</a><br /><br />
SuperTuxKart Team © 2025
</div>

</footer>

<script src="/assets/js/lang_redirect.js"></script>
<script src="/assets/js/simple-jekyll-search.min.js"></script>
<script src="/assets/js/searchdata.js" async></script></body>
</html>
